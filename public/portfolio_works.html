<!DOCTYPE html>
<html class="works">
<head>
	<title>RHUI. - Works</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<script src="https://code.jquery.com/jquery-3.2.1.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jcanvas/20.1.2/jcanvas.js"></script>  <!--jCanvas CDN-->

  <!-- local server testing -->
  <link rel="stylesheet" type="text/css" href="./css/reset.css">
  <link rel="stylesheet" type="text/css" href="./css/style.css">
  <link rel="stylesheet" type="text/css" href="./css/styles_media_queries.css">
  
	<link href="https://fonts.googleapis.com/css?family=Nothing+You+Could+Do|Oswald" rel="stylesheet">
</head>


<body id='scroll'>
  <!-- backgrounds -->
  <img class="background street" src="./media/works_page/street.jpg">
  <div class='works-juikebox'>
    <video class='background' id='juikebox' muted loop>
      <source src="./media/works_page/juikebox_works_video.mp4" type="video/mp4">
    </video>
  </div>  
  <div class='works-sockswap'>
    <video class='background' id='sockswap' muted loop>
      <source src="./media/works_page/sockswap_works.mp4" type="video/mp4">
    </video>
  </div>
  <div class='works-loz'>
    <video class='background' id='loz' muted loop>
      <source src="./media/works_page/loz_hangman_works.mp4" type="video/mp4">
    </video>
  </div>
  <img class="background fireworks" src="./media/works_page/fireworks.jpg">
  

  <!--header-->
	<header class='fixed -header'>

		<div class="brand">RHUI.</div>
		<span class="line"></span>

		<span class="menu" title="Menu">
			<div class="bar one"></div>
			<div class="bar two"></div>
			<div class="bar three"></div>
		</span>
	</header>


  <!-- texts -->
  <div class="container">
    <div class="scroll-1">
      <h2>"...You may not be at a point where you have fully recovered your power or all of your memories, but courage need not be remembered, for it is never forgotten."</h2> <br>
      <span class="author"> - <span class="blue-text">Zelda</span>, The Legend of Zelda: Breath of the Wild</span>
    </div>

    <!-- scroll-2 -->
    <div class='scroll-2'> 
      <div class='title'>
        <div>JuikeBox</div>
      </div>
      <div class='description'>JuikeBox is a frontend web app designed to create drinks with the ingredients you already have and suggests music based on your ingredients. Generate new recipes in seconds and discover new music with the ingredients you have already own your kitchen! Powered by the SoundCloud API and TheCocktailDB API.</div>

      <div class='title'>
        <a href="https://github.com/raywhui/JuikeBox" target="_blank"><img class='github works-icon' src="./media/works_page/works_github.png" title="GitHub"></a> 
        <a href="https://raywhui.github.io/JuikeBox/" target="_blank"><img class='www works-icon' src="./media/works_page/www.png" title="WWW"></a>
      </div>

    </div>

    <!--scroll-3 -->
    <div class='scroll-3'> 
      <div class='title'>
        <div>SockSwap</div>
      </div>
      <div class='description'>The One Stop Shop to Swap Your Sock! A fun, multi-page, fullstack application that demonstrates personalized logins with multiple users and database CRUD. Powered by Bootstrap and MySQL.</div>

      <div class='title'>
        <a href="https://github.com/shirinR/Sock-Swap" target="_blank"><img class='github works-icon' src="./media/works_page/works_github.png" title="GitHub"></a> 
        <a href="https://sockswap.herokuapp.com/" target="_blank"><img class='www works-icon' src="./media/works_page/www.png" title="WWW"></a>
      </div>

    </div>

    <!--scroll-4 -->
    <div class='scroll-4'> 
      <div class='title'>
        <div>Legend of Zelda: The Word Game</div>
      </div>
      <div class='description'>Have you ever been told by an old man that it was dangerous to go alone and received an incredibly sharp object to combat the forces of evil? Neither have I, but this game is pretty cool. A frontend application of hangman stylized after the hit Nintendo game "The Legend of Zelda". Powered by Bootstrap.</div>

      <div class='title'>
        <a href="https://github.com/raywhui/Hangman-Game" target="_blank"><img class='github works-icon' src="./media/works_page/works_github.png" title="GitHub"></a> 
        <a href="https://raywhui.github.io/Hangman-Game/" target="_blank"><img class='www works-icon' src="./media/works_page/www.png" title="WWW"></a>
      </div>

    </div>

    <div class='scroll-5'>
      <div class="contact-me">
        <div class='blue-text'>Interested?</div>
        <p>I'm available for hire! Message me.</p>
        <p>Email: rwhui.tech@gmail.com</p>
        <p>LinkedIn: www.linkedin.com/in/raywhui</p><br>
        <img src='./media/link_hi.gif' class='link-gif'>
      </div>
    </div>

  </div><!--container-->

  <div class='mouse-decorations'>
    <div class='mouse-line left'></div><img src='./media/mouse_icon.png' class='mouse-icon'><div class='mouse-line right'></div>
    <img class="scroll-how-to" src="./media/scroll.png">
  </div>


	
  <!--footer-->
	<footer class='fixed -footer'>
		<div class="bottom-row">
			<div class="bottom-cr">	&copy; Raymond Hui 2017. All Rights Reserved.</div>
			<div class="contact-section">
				<div class="contacts">Contact Me</div>
				<div class='icon-holder'>
					<a href="https://github.com/raywhui" target="_blank"><img class='github icon' src="./media/github_icon.svg" title="GitHub"></a>
					<a href="https://www.linkedin.com/in/raymond-hui-ba5a0a11a/" target="_blank"><img class='linkedin icon' src="./media/linkedin_icon.png" title="LinkedIn"></a>
					<a href="mailto:rwhui.tech@gmail.com"><img class='icon email' src="./media/mail_icon.png" title="E-mail"></a>
				</div>
			</div>
		</div>
	</footer>

  <script>
  const vid1 = document.getElementById('juikebox');
  const vid2 = document.getElementById('sockswap');
  const vid3 = document.getElementById('loz');
  const scrollEvent = $('#scroll')[0];
  let scroll = 1;
  

  //Work scrolling logic
  addScrollEvent = () => {
    console.log(scrollEvent)
    if (scrollEvent.addEventListener){
      // IE9, Chrome, Safari, Opera
      scrollEvent.addEventListener("wheel", MouseWheelHandler, false);
    }
    // IE 6/7/8
    else{
      scrollEvent.attachEvent("onmousewheel", MouseWheelHandler);
    };
  };

  pageTransition = (delta, leave, appear, backgroundLeave, backgroundAppear, vidPause, vidPlay, scrollNum) => {
    //remove delta to prevent scroll stacking
    $(leave).css('opacity', 0);
    $(appear).css('display','block');
    $(backgroundLeave).css('opacity',0);
    setTimeout(function(){
      if (vidPause !== undefined){
        vidPause.pause();
        console.log(vidPause.id + 'paused');
      }
      if (vidPlay !== undefined){
        vidPlay.play();
        console.log(vidPlay.id + "played");
      }
      $(leave).css('display','none');
      $(appear).css('opacity',1);
      $(backgroundAppear).css('opacity',0.75);
      //prevent scroll passing +1
      if (scroll === scrollNum && delta === -1){
        scroll++;
        console.log(scroll, 'scroll down');
      }else if (scroll ===scrollNum && delta === 1){
        scroll--;
        console.log(scroll, 'scroll up');
      };
    },500);
  }

  MouseWheelHandler = e => {
    console.log(scrollEvent.removeEventListener)
    //removeEventListener must remove the same function that is referenced in addEventListener
    if (scrollEvent.removeEventListener){
      scrollEvent.removeEventListener("wheel", MouseWheelHandler, false);
      //add back scroll eventlistener
      setTimeout(function(){
        addScrollEvent();
      }, 750);
    };

    // cross-browser wheel delta
    var e = window.event || e; // old IE support
    let delta = Math.max(-1, Math.min(1, (-e.deltaY)));
    console.log('delta Y:', e.deltaY);
    console.log('delta Detail:', e.detail);
    console.log('delta rounded:', delta)
      //transition page 1 -> 2
      if(scroll === 1 && delta === -1){
        return pageTransition(delta, '.scroll-1', '.scroll-2', '.works .street', '.works-juikebox', undefined, vid1, 1);

      //transition page 2 -> 3
      }else if(scroll === 2 && delta === -1){
        return pageTransition(delta, '.scroll-2', '.scroll-3', '.works-juikebox', '.works-sockswap', vid1, vid2, 2);

      //transition page 3 -> 4
      }else if(scroll === 3 && delta === -1){
        return pageTransition(delta, '.scroll-3', '.scroll-4', '.works-sockswap', '.works-loz', vid2, vid3, 3);

      //transition page 4 -> 5
      }else if(scroll === 4 && delta === -1){
        return pageTransition(delta, '.scroll-4', '.scroll-5', '.works-loz', '.works .fireworks', vid3, undefined, 4);

      //transition page 2 -> 1
      }else if(scroll === 2 && delta === 1){
         return pageTransition(delta, '.scroll-2', '.scroll-1', '.works-juikebox', '.works .street', vid1, undefined, 2);

      //transition page 3 -> 2
      }else if(scroll === 3 && delta === 1){
         return pageTransition(delta, '.scroll-3', '.scroll-2', '.works-sockswap', '.works-juikebox', vid2, vid1, 3);

      //transition page 4 -> 3
      }else if(scroll === 4 && delta === 1){
         return pageTransition(delta, '.scroll-4', '.scroll-3', '.works-loz', '.works-sockswap', vid3, vid2, 4);

      //transition page 5 -> 4   
      }else if(scroll === 5 && delta === 1){
         return pageTransition(delta, '.scroll-5', '.scroll-4', '.works .fireworks', '.works-loz', undefined, vid3, 5);
      };
    return false;
  };


  //Main->Works Transition 
  $(window).on("load", function(){ 
    $('html.works .street').css('opacity',0.75);
    $('body.scroll').css('background-color','black');
    $('.container, .mouse-icon, .mouse-line, .scroll-how-to').css("display", "block");
    setTimeout(function(){
      $('.container, .mouse-icon, .mouse-line, .scroll-how-to').css('opacity', 1);
      //initialize eventlistener
      addScrollEvent();
    },750);
  });

  //Works->Main Transition
  $('header').on('click','.menu',function(){
    $('body.scroll .background').css('opacity',0);
    $('body.scroll').css('background-color', '#0E7FD6');
    $('.container, .mouse-icon, .mouse-line, .scroll-how-to').css('opacity', 0);
    setTimeout(function(){
      $('.container, .mouse-icon, .mouse-line').css("display", "none");
      // local non server testing
        // window.location.assign("./main.html");
        localStorage.setItem('rhui-returnPage', 'works');
        window.location.assign("/main");
      },750);
      // node testing
  });

  </script>



</body>
</html>